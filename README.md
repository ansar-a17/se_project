# Image Captioning & Text-to-Speech System

A microservices-based application that converts screenshots into audio descriptions using AI. Upload an image, get a caption generated by AI, and hear it spoken aloud!

## Features

- **Image-to-Text**: Analyzes images and generates descriptive captions using the BLIP model
- **Text-to-Speech**: Converts generated captions into natural-sounding speech using Microsoft SpeechT5
- **Microservices Architecture**: Fully containerized services with Docker
- **Orchestrated Workflow**: Seamless coordination between services via an orchestrator
- **Modern Frontend**: Clean, user-friendly TypeScript/Vite interface

## System Flow

```
┌─────────────┐
│   Upload    │
│ Screenshot  │
└──────┬──────┘
       │
       ▼
┌─────────────────────────────────────┐
│          Orchestrator                │
│  (Coordinates the workflow)          │
└──────┬──────────────────┬───────────┘
       │                  │
       │ ①Image           │ ②Text
       ▼                  ▼
┌──────────────┐   ┌──────────────┐
│ Image-to-Text│   │Text-to-Speech│
│   Service    │   │   Service    │
│              │   │              │
│ BLIP Model   │   │ SpeechT5 TTS │
└──────┬───────┘   └──────┬───────┘
       │                  │
       │ Caption          │ Audio (.wav)
       ▼                  ▼
       └────────┬─────────┘
                │
                ▼
         ┌──────────────┐
         │   Frontend   │
         │ Plays Audio  │
         └──────────────┘
```

## Quick Start

### Prerequisites

- Docker & Docker Compose
- 4GB+ RAM (for AI models)

### Installation

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd se_project
   ```

2. **Start all services**
   ```bash
   docker-compose up --build
   ```

3. **Access the application**
   - Frontend: http://localhost:3000
   - Orchestrator: http://localhost:5000
   - Image-to-Text: http://localhost:8000
   - Text-to-Speech: http://localhost:7999

## Services Overview

| Service | Technology | Port | Description |
|---------|-----------|------|-------------|
| **Frontend** | TypeScript + Vite + Nginx | 3000 | User interface for uploading images |
| **Orchestrator** | FastAPI (Python) | 5000 | Coordinates workflow between services |
| **Image-to-Text** | Transformers (BLIP) | 8000 | Generates captions from images |
| **Text-to-Speech** | SpeechT5 TTS | 7999 | Converts text to speech audio |

## Project Structure

```
se_project/
├── docker-compose.yml          # Multi-container orchestration
├── frontend/                   # Frontend service
│   ├── Dockerfile
│   ├── src/
│   └── index.html
├── orchestrator/              # Orchestration service
│   ├── Dockerfile
│   └── orchestrator.py
├── image_to_text/            # Image captioning service
│   ├── Dockerfile
│   └── image_to_text.py
├── text_to_speech/           # Speech synthesis service
│   ├── Dockerfile
│   └── text_to_speech.py
└── audio_files/              # Generated audio storage
```

## API Endpoints

### Orchestrator (`localhost:5000`)
- `GET /` - Service status
- `GET /health` - Health check for all services
- `POST /process_screenshot` - Main processing endpoint

### Image-to-Text (`localhost:8000`)
- `POST /image_to_text` - Convert image to caption

### Text-to-Speech (`localhost:7999`)
- `POST /text_to_speech` - Convert text to audio

## Development

### Stop Services
```bash
docker-compose down
```

### View Logs
```bash
docker-compose logs -f [service-name]
```

### Rebuild Specific Service
```bash
docker-compose up --build [service-name]
```

## Notes

- First startup may take 2-3 minutes as AI models are downloaded
- Audio files are automatically cleaned up (keeps last 10 files)
- Services include health checks and automatic restart on failure

## AI Models Used

- **Image Captioning**: Salesforce BLIP (Base)
- **Text-to-Speech**: Microsoft SpeechT5 TTS + HiFi-GAN Vocoder

## License

MIT License

---

**Built with Docker, FastAPI, and Transformers**
